appId: com.anonymous.ios-shamir
---
# ── Generate a secret first ──
- launchApp:
    clearState: true

- tapOn: "New Secret"
- waitForAnimationToEnd

- tapOn: "Generate New Phrase"
- waitForAnimationToEnd

# ── Entropy ──
- extendedWaitUntil:
    visible: "Entropy Source"
    timeout: 10000
- tapOn: "Use System Only"
- waitForAnimationToEnd

# ── Mnemonic ──
- extendedWaitUntil:
    visible: "Mnemonic"
    timeout: 10000
- tapOn: "Generate"
- waitForAnimationToEnd
- scroll
- tapOn: "Continue"
- waitForAnimationToEnd

# ── Derivation ──
- extendedWaitUntil:
    visible: "Derivation Path"
    timeout: 10000
- tapOn: "Derive Addresses"
- extendedWaitUntil:
    visible: "10 Addresses"
    timeout: 15000
- scroll
- scroll
- scroll
- tapOn: "Continue to Shamir"
- waitForAnimationToEnd

# ── Shamir Split ──
- extendedWaitUntil:
    visible: "Shamir Split"
    timeout: 10000
- scroll
- tapOn: "Continue"
- waitForAnimationToEnd

# ── Metadata ──
- extendedWaitUntil:
    visible: "Metadata"
    timeout: 10000
- scroll
- tapOn: "Generate Shares"

# ── Preview ──
- extendedWaitUntil:
    visible: "Preview"
    timeout: 30000
- scroll
- scroll
- scroll
- scroll
- scroll
- extendedWaitUntil:
    visible: "Generate PDF"
    timeout: 10000
- tapOn: "Generate PDF"

# ── Share / Save ──
- extendedWaitUntil:
    visible: "Save to Vault"
    timeout: 30000
- tapOn: "Save to Vault"
- waitForAnimationToEnd

- tapOn: "Done"
- waitForAnimationToEnd

# ── Vault list ──
- tapOn: "Vault"
- waitForAnimationToEnd

# The secret should appear in the vault list
- extendedWaitUntil:
    visible: "24 WORDS"
    timeout: 10000
- takeScreenshot: vault-list

# Tap the vault card to open detail
- tapOn: "24 WORDS"
- waitForAnimationToEnd

# ── Vault detail ──
- extendedWaitUntil:
    visible: "Seed Phrase"
    timeout: 10000
- takeScreenshot: vault-detail
